---
import siteConfig from '../../site.config.mjs';

const title = siteConfig.title;

const base = import.meta.env.BASE_URL;
const menuItems = [
	{ name: 'Inicio', link: `${base}` },
	{ name: 'Galería', link: `${base}/collections` },
	{ name: 'Sobre mí', link: `${base}/about` },
];
---

<nav
	x-data="{ isOpen: false, scrolled: false }"
	@scroll.window="scrolled = window.scrollY > 50"
	class="fixed top-0 left-0 w-full z-50 transition-all duration-300"
	:class="scrolled ? 'py-3' : 'py-5'"
>
	<div
		class="container mx-auto flex items-center justify-between rounded-full px-5 py-3 glass-panel transition-all duration-300"
		:class="scrolled ? 'shadow-[0_12px_40px_-28px_rgba(15,23,42,0.35)]' : 'shadow-none'"
	>
		<a href={base} id="logo" class="text-2xl md:text-3xl font-semibold tracking-tight text-[hsl(220,33%,12%)]">
			{title}
		</a>

		<!-- Desktop Menu -->
		<div class="hidden md:flex items-center gap-2">
			{
				menuItems.map((item) => (
					<a
						href={item.link}
						class="px-4 py-2 text-sm font-semibold text-[hsl(220,33%,12%)] rounded-full hover:bg-[hsla(31,66%,60%,0.12)] transition-colors"
					>
						{item.name}
					</a>
				))
			}
			<a href={`${base}/collections`} class="button-primary hidden lg:inline-flex">Ver portafolio</a>
		</div>

		<!-- Mobile Menu Button -->
		<button @click="isOpen = !isOpen" class="md:hidden text-[hsl(220,33%,12%)] focus:outline-none">
			<svg x-show="!isOpen" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
				<path
					stroke-linecap="round"
					stroke-linejoin="round"
					stroke-width="2"
					d="M4 6h16M4 12h16M4 18h16"></path>
			</svg>
			<svg x-show="isOpen" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
				<path
					stroke-linecap="round"
					stroke-linejoin="round"
					stroke-width="2"
					d="M6 18L18 6M6 6l12 12"></path>
			</svg>
		</button>
	</div>

	<!-- Mobile Menu -->
	<div
		x-show="isOpen"
		class="md:hidden absolute top-full left-0 w-full px-4"
	>
		<div class="glass-panel mt-3 px-4 py-4 flex flex-col space-y-3 rounded-2xl">
			{
				menuItems.map((item) => (
					<a
						href={item.link}
						class="text-base font-semibold text-[hsl(220,33%,12%)]"
						@click="isOpen = false"
					>
						{item.name}
					</a>
				))
			}
			<a href={`${base}/collections`} class="button-primary justify-center">Ver portafolio</a>
		</div>
	</div>
</nav>
